package main

import (
	"fmt"
	"go/types"
	"strconv"
	"sync"
)

/*
*
ç†Ÿç»ƒæŒæ¡goé‡Œé¢çš„æ‰€æœ‰åŸºæœ¬æ•°æ®ç±»å‹çš„ç›¸å…³ç‰¹æ€§
*/
func main() {

	//// goä¸­å„ç§æ•°æ®ç±»å‹çš„è½¬åŒ–å¿…é¡»æ˜¾ç¤ºçš„è¿›è¡Œï¼Œæ³¨æ„ï¼šgoä¸èƒ½å’ŒJavaä¸€æ ·è¿›è¡Œè‡ªåŠ¨è½¬åŒ–
	//
	//var i int = -66
	//var f32 float32 = float32(i)
	//var f64 float64 = float64(f32)
	//var u uint8 = uint8(i)
	//fmt.Println(i, f32, f64, u)

	//test54_01()

	//test54_02()

	//test54_03()

	//test54_04()

	//test54_05()

	test54_06()

}

// åœ¨ Go è¯­è¨€ä¸­ï¼Œmake å’Œ new éƒ½ç”¨äºå†…å­˜åˆ†é…ï¼Œä½†å®ƒä»¬çš„ç”¨é€”å’Œé€‚ç”¨åœºæ™¯å®Œå…¨ä¸åŒã€‚
func test54_06() {
	/*
		1. make å’Œ new çš„æ ¸å¿ƒåŒºåˆ«
		å…³é”®ç‚¹			make						new
		ä½œç”¨			åˆå§‹åŒ–å¹¶è¿”å›éé›¶å€¼			ä»…åˆ†é…å†…å­˜ï¼Œè¿”å›é›¶å€¼
		é€‚ç”¨äº		sliceã€mapã€channel		æŒ‡é’ˆï¼ˆ*Tï¼‰
		è¿”å›ç±»å‹		è¿”å›å…·ä½“ç±»å‹				è¿”å›æŒ‡å‘ç±»å‹çš„æŒ‡é’ˆï¼ˆ*Tï¼‰
		æ˜¯å¦åˆå§‹åŒ–	æ˜¯ï¼ˆå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼‰			å¦ï¼ˆåªæ˜¯åˆ†é…ç©ºé—´ï¼Œéœ€è¦æ‰‹åŠ¨åˆå§‹åŒ–ï¼‰
	*/

	// 2. make çš„ç”¨æ³•
	//make ä¸»è¦ç”¨äºåˆ›å»ºå¹¶åˆå§‹åŒ–ä»¥ä¸‹ä¸‰ç§å¼•ç”¨ç±»å‹ï¼š
	//åˆ‡ç‰‡ï¼ˆsliceï¼‰
	//æ˜ å°„ï¼ˆmapï¼‰
	//é€šé“ï¼ˆchannelï¼‰
	//è¿™äº›ç±»å‹æœ¬è´¨ä¸Šæ˜¯å¸¦æœ‰åº•å±‚æ•°æ®ç»“æ„çš„å¼•ç”¨ç±»å‹ï¼Œmake è´Ÿè´£åˆ†é…å†…å­˜å¹¶åˆå§‹åŒ–ç›¸å…³çš„å†…éƒ¨æ•°æ®ç»“æ„ï¼ˆå¦‚ slice çš„åº•å±‚æ•°ç»„ã€map çš„å“ˆå¸Œè¡¨ç­‰ï¼‰ã€‚

	// 3. new çš„ç”¨æ³•
	//new åªç”¨äºåˆ†é…å†…å­˜ï¼Œå®ƒè¿”å›çš„æ˜¯ä¸€ä¸ªæŒ‡å‘ç±»å‹çš„æŒ‡é’ˆï¼Œä½†ä¸ä¼šè¿›è¡Œåˆå§‹åŒ–ã€‚
	//ğŸ“Œ new åˆ›å»ºæŒ‡é’ˆ
	// new(int) åˆ†é…äº†ä¸€å— int ç±»å‹çš„å†…å­˜ï¼Œå¹¶è¿”å›æŒ‡é’ˆ *int
	// new åªä¼šåˆ†é…é›¶å€¼å†…å­˜ï¼Œä¸ä¼šåˆå§‹åŒ–å¤æ‚çš„ç»“æ„
	p := new(int)   // åˆ†é…ä¸€ä¸ª int ç±»å‹çš„å†…å­˜ï¼Œè¿”å› *int
	fmt.Println(p)  // 0xc000014090 (æŒ‡é’ˆåœ°å€)
	fmt.Println(*p) // 0 ï¼ˆé»˜è®¤é›¶å€¼ï¼‰

	// ğŸ“Œ new vs make
	var p1 = new([]int)     // âŒ è¿™é‡Œçš„ p1 æ˜¯ *([]int)ï¼ŒæŒ‡å‘ nilï¼Œè¿™æ˜¯ä¸€ä¸ªæŒ‡é’ˆ
	var p2 = make([]int, 5) // âœ… è¿™é‡Œçš„ p2 æ˜¯ []intï¼Œå·²åˆ†é…ç©ºé—´ï¼Œè¿™æ˜¯ä¸€ä¸ªåˆ‡ç‰‡

	fmt.Println(p1 == nil)  // false (p1 æ˜¯ä¸€ä¸ªæŒ‡å‘ nil slice çš„æŒ‡é’ˆ)
	fmt.Println(*p1 == nil) // true (p1 æŒ‡å‘çš„ slice ä»ç„¶æ˜¯ nil)
	fmt.Println(p2 == nil)  // false (p2 æ˜¯å·²åˆå§‹åŒ–çš„åˆ‡ç‰‡)

	/*
		4. make vs new çš„ä½¿ç”¨åœºæ™¯
		âœ… ä½¿ç”¨ make çš„åœºæ™¯ï¼ˆåˆå§‹åŒ– sliceã€mapã€channelï¼‰

		éœ€è¦åˆ›å»º sliceï¼ˆå¹¶åˆ†é…åº•å±‚æ•°ç»„ï¼‰
		éœ€è¦åˆ›å»º mapï¼ˆå¹¶åˆ†é…å“ˆå¸Œè¡¨ï¼‰
		éœ€è¦åˆ›å»º channelï¼ˆå¹¶åˆ†é…ç¼“å†²åŒºï¼‰
		âœ… ä½¿ç”¨ new çš„åœºæ™¯ï¼ˆåˆ›å»ºæŒ‡é’ˆï¼‰

		éœ€è¦åˆ›å»ºåŸºç¡€ç±»å‹çš„æŒ‡é’ˆ
		éœ€è¦åˆ›å»ºç»“æ„ä½“æŒ‡é’ˆ
		å‡å°‘æ‹·è´ï¼ˆæŒ‡é’ˆå¯ä»¥é¿å…å€¼ä¼ é€’ï¼‰
	*/

	// 5. new çš„é«˜çº§ç”¨æ³•
	//ğŸ“Œ new ç”¨äºåˆ›å»ºç»“æ„ä½“æŒ‡é’ˆ
	type Person struct {
		Name string
		Age  int
	}

	var p50 *Person = new(Person)
	fmt.Println(p50)
	p5 := new(Person) // è¿”å› *Person æŒ‡é’ˆ
	fmt.Println(p5)
	fmt.Println(p5.Name) // ""
	fmt.Println(p5.Age)  // 0

	// ğŸ“Œ new é¿å…å€¼æ‹·è´
	//åœ¨ Go è¯­è¨€ä¸­ï¼Œå€¼ä¼ é€’ä¼šå¯¼è‡´æ•°æ®æ‹·è´ï¼Œä½¿ç”¨ new è¿”å›æŒ‡é’ˆå¯ä»¥é¿å…æ‹·è´ï¼š
	//func createInt() *int {
	//	return new(int) // è¿”å›æŒ‡é’ˆ
	//}
	//6. æ€»ç»“
	//æ“ä½œ			é€‚ç”¨ç±»å‹				è¿”å›ç±»å‹		æ˜¯å¦åˆå§‹åŒ–		é€‚ç”¨åœºæ™¯
	//new(T)		ä»»ä½•ç±»å‹				*Tï¼ˆæŒ‡é’ˆï¼‰	å¦ï¼ˆé»˜è®¤é›¶å€¼ï¼‰	éœ€è¦æŒ‡é’ˆï¼Œé¿å…å€¼æ‹·è´
	//make(T, ...)	sliceã€mapã€channel	Tï¼ˆéæŒ‡é’ˆï¼‰	æ˜¯				åˆ›å»º sliceã€mapã€channel
	//ğŸš€ make vs new é€‰æ‹©æŒ‡å—
	//âœ… å¦‚æœè¦åˆ›å»º sliceã€mapã€channelï¼Œå¹¶èƒ½ç›´æ¥ä½¿ç”¨ â†’ make
	//âœ… å¦‚æœåªéœ€è¦å†…å­˜åˆ†é…ï¼Œå¹¶è¿”å›æŒ‡é’ˆ â†’ new
	//âœ… å¦‚æœæ˜¯ struct ç»“æ„ä½“ï¼Œä¸€èˆ¬ç”¨å­—é¢é‡ &T{} ä»£æ›¿ new(T)

	// 7. æ¨èä½¿ç”¨ &T{} ä»£æ›¿ new(T)
	//Go æ›´æ¨èä½¿ç”¨ &T{} è€Œä¸æ˜¯ new(T)ï¼š
	//âœ… new(T) é€‚ç”¨äºé¿å…æ‹·è´
	//âœ… &T{} æ›´é€‚ç”¨äºåˆå§‹åŒ–ç»“æ„ä½“
	p71 := new(Person) // ä¼ ç»Ÿæ–¹å¼
	p72 := &Person{}   // æ¨èæ–¹å¼
	fmt.Println(p71)
	fmt.Println(p72)

}

// Go è¯­è¨€ä¸­çš„ç©ºå€¼å¤„ç†ä¸ nil ä½¿ç”¨è¯¦è§£ ğŸš€
// åœ¨ Go è¯­è¨€ä¸­ï¼Œç©ºå€¼ï¼ˆZero Valueï¼‰ æ˜¯æŒ‡å˜é‡åœ¨æœªåˆå§‹åŒ–æ—¶çš„é»˜è®¤å€¼ï¼Œè€Œ nil æ˜¯ Go è¯­è¨€ä¸­ä¸€ä¸ªç‰¹æ®Šçš„ é¢„å®šä¹‰æ ‡è¯†ç¬¦ï¼Œç”¨äºè¡¨ç¤ºå¼•ç”¨ç±»å‹çš„â€œç©ºâ€çŠ¶æ€ã€‚
// åœ¨ Go è¯­è¨€ä¸­ï¼Œåªæœ‰æŸäº›ç‰¹å®šç±»å‹ å¯ä»¥å– nilï¼Œä½¿ç”¨ nil éœ€è¦è°¨æ…ï¼Œé¿å… nil ç›¸å…³çš„è¿è¡Œæ—¶é”™è¯¯ï¼ˆå¦‚ panicï¼‰ã€‚
func test54_05() {
	/*
	   	1. ä»€ä¹ˆæ˜¯ nilï¼Ÿ
	      åœ¨ Go ä¸­ï¼Œnil ä¸»è¦ç”¨äºè¡¨ç¤ºæŸäº›å¼•ç”¨ç±»å‹çš„ç©ºå€¼ï¼Œæ¯”å¦‚ï¼š
	   	   æŒ‡é’ˆ (*T)
	   	   åˆ‡ç‰‡ ([]T)
	   	   æ˜ å°„ (map[T]T)
	   	   é€šé“ (chan T)
	   	   æ¥å£ (interface{})
	   	   å‡½æ•° (func(...) ...)

	      è¿™äº›ç±»å‹çš„é»˜è®¤é›¶å€¼éƒ½æ˜¯ nilï¼Œä½†å®ƒä»¬çš„è¡Œä¸ºå¯èƒ½ä¸åŒã€‚ä¾‹å¦‚ï¼š
	   	   nil map ä¸èƒ½å†™å…¥
	   	   nil slice å¯ä»¥è¯»å–ä½†é•¿åº¦ä¸º 0
	   	   nil channel å¯èƒ½ä¼šå¯¼è‡´ Goroutine æ°¸ä¹…é˜»å¡
	   	   nil interface å¯èƒ½ä¼šå¯¼è‡´ panic
	*/

	// 2. nil çš„ä½¿ç”¨åœºæ™¯
	//ï¼ˆ1ï¼‰æŒ‡é’ˆ
	//æŒ‡é’ˆåœ¨ Go é‡Œé»˜è®¤æ˜¯ nil
	//å¸¸è§åœºæ™¯ï¼šæ£€æµ‹æŒ‡é’ˆæ˜¯å¦ä¸º nilã€ä¼ é€’ nil æŒ‡é’ˆç»™å‡½æ•°
	var ptr *int
	fmt.Println(ptr)
	if ptr == nil {
		fmt.Println("æŒ‡é’ˆéå†pträ¸ºnilï¼Œä¸èƒ½è§£å¼•ç”¨")
	}
	println("--------------------------------------")

	// ï¼ˆ2ï¼‰åˆ‡ç‰‡ï¼ˆsliceï¼‰
	// åˆ‡ç‰‡çš„é»˜è®¤é›¶å€¼æ˜¯ nilï¼Œä½†å®ƒå¯ä»¥è¢«å®‰å…¨è¯»å–ï¼š
	var sli2 []int           // nilåˆ‡ç‰‡
	fmt.Println(sli2 == nil) // true
	fmt.Println(len(sli2))   // 0
	fmt.Println(cap(sli2))   // 0
	//fmt.Println(sli2[0])     // panic: runtime error: index out of range [0] with length 0

	// âš ï¸ nil åˆ‡ç‰‡å’Œç©ºåˆ‡ç‰‡ ([]int{}) æ˜¯ä¸åŒçš„ï¼
	var sli22 []int = []int{} // ç©ºåˆ‡ç‰‡
	fmt.Println(sli22 == nil) // true
	fmt.Println(len(sli22))   // 0
	fmt.Println(cap(sli22))   // 0
	//fmt.Println(sli22[0])     // panic: runtime error: index out of range [0] with length 0

	// âœ… æœ€ä½³å®è·µï¼š
	//ä½¿ç”¨ nil åˆ‡ç‰‡å¯ä»¥å‡å°‘å†…å­˜åˆ†é…
	//ä½†è¿”å›ç©ºåˆ‡ç‰‡æ¯” nil æ›´å¥½ï¼Œä»¥é¿å… nil å¼•å‘çš„ panic

	println("--------------------------------------")

	// ï¼ˆ3ï¼‰æ˜ å°„ï¼ˆmapï¼‰
	//æœªåˆå§‹åŒ–çš„ map æ˜¯ nilï¼Œä¸èƒ½ç›´æ¥å†™å…¥ï¼š
	var map31 map[string]int
	fmt.Println(map31 == nil)
	//map31["apple"] = 10 // âŒ panic: assignment to entry in nil map
	fmt.Println(types.Nil{})

	// ä»¥ä¸Šçš„è§£å†³æ–¹æ³•1ï¼Œåˆ›å»ºä¸€ä¸ªé™æ€çš„
	var map32 map[string]int = map[string]int{}
	fmt.Println(map32 == nil)
	map32["apple"] = 10
	fmt.Println(map32)

	// ä»¥ä¸Šçš„è§£å†³æ–¹æ³•2ï¼šä½¿ç”¨makeåˆ›å»º
	var map33 map[string]int = make(map[string]int)
	fmt.Println(map33 == nil)
	map33["apple"] = 101
	fmt.Println(map33)

	println("--------------------------------------")

	// https://chatgpt.com/c/67d22576-391c-8012-9f79-b30a4c487e3c
	// ï¼ˆ4ï¼‰é€šé“ï¼ˆchannelï¼‰

	// ï¼ˆ5ï¼‰æ¥å£ï¼ˆinterfaceï¼‰

	/*
			4. nil ä½¿ç”¨çš„æœ€ä½³å®è·µ
			âœ… ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ nilï¼Ÿ
				æœªåˆå§‹åŒ–çš„å¼•ç”¨ç±»å‹å˜é‡ï¼ˆé¿å… panicï¼‰
				åˆ¤æ–­å€¼æ˜¯å¦å­˜åœ¨
				è¿”å› nil ä»¥è¡¨ç¤ºâ€œæ— å€¼â€
				åœ¨ select è¯­å¥ä¸­æ§åˆ¶ channel

			âœ… ä»€ä¹ˆæ—¶å€™é¿å… nilï¼Ÿ
				è¿”å› slice æˆ– map æ—¶ï¼Œå»ºè®®è¿”å›ç©ºå€¼è€Œä¸æ˜¯ nil
				ç»“æ„ä½“æ¥æ”¶å™¨æ–¹æ³•é¿å… nil æŒ‡é’ˆè°ƒç”¨
				Goroutine å¤„ç† nil é€šé“ï¼Œé¿å…æ­»é”
				é¿å… interface{} ä¸ºç©ºä½† != nil çš„é—®é¢˜
			5. æ€»ç»“
		ç±»å‹					é»˜è®¤å€¼ (nil)		è®¿é—® nil çš„è¡Œä¸º
		æŒ‡é’ˆ (*T)			nil				ä¸èƒ½è§£å¼•ç”¨
		åˆ‡ç‰‡ ([]T)			nil				å¯è¯»ä½† len=0ï¼Œä¸èƒ½ append
		æ˜ å°„ (map[T]T)		nil				å¯è¯»ä½†ä¸èƒ½å†™å…¥
		é€šé“ (chan T)		nil				è¯»å†™ä¼šé˜»å¡
		æ¥å£ (interface{})	nil				nil ä½†å¯èƒ½æŒæœ‰é nil å€¼
		æŒæ¡ nil çš„ä½¿ç”¨æ–¹å¼ï¼Œèƒ½å¤Ÿæœ‰æ•ˆé¿å… panicï¼Œç¼–å†™æ›´å¥å£®çš„ Go ä»£ç ï¼ğŸš€
	*/
}

func getSlice(useNil bool) []int {
	if useNil {
		return nil // è¿”å› nil
	}
	return []int{} // è¿”å›ç©ºåˆ‡ç‰‡
}

// Go è¯­è¨€ä¸­çš„ map è¯¦è§£åŠé«˜é˜¶ç”¨æ³• ğŸš€
// åœ¨ Go è¯­è¨€ä¸­ï¼Œmapï¼ˆæ˜ å°„ï¼‰æ˜¯ä¸€ç§å†…ç½®çš„æ•°æ®ç»“æ„ï¼Œç”¨äºå­˜å‚¨é”®å€¼å¯¹ï¼ˆkey-valueï¼‰ã€‚
// å®ƒç±»ä¼¼äºå…¶ä»–è¯­è¨€ä¸­çš„ å“ˆå¸Œè¡¨ï¼ˆHashMapï¼‰ æˆ– å­—å…¸ï¼ˆDictionaryï¼‰ï¼Œå…·æœ‰ O(1) çš„æŸ¥æ‰¾å’Œæ’å…¥æ—¶é—´å¤æ‚åº¦ï¼Œæ˜¯é«˜æ•ˆçš„æ•°æ®å­˜å‚¨æ–¹å¼ä¹‹ä¸€ã€‚
func test54_04() {
	// 1. map çš„åŸºç¡€æ¦‚å¿µ
	//ï¼ˆ1ï¼‰ä»€ä¹ˆæ˜¯ mapï¼Ÿ
	//map æ˜¯ä¸€ç§æ— åºçš„ key-value å¯¹é›†åˆï¼Œå…¶é”®å¿…é¡»æ˜¯å¯æ¯”è¾ƒçš„ç±»å‹ï¼ˆå¦‚ stringã€intã€boolã€floatã€interface{} ç­‰ï¼‰ï¼Œ
	//ä½†ä¸èƒ½æ˜¯ sliceã€map æˆ– functionï¼ˆå› ä¸ºè¿™äº›ç±»å‹ä¸å¯æ¯”è¾ƒï¼‰ã€‚

	// (2)åˆ›å»ºä¸€ä¸ªmap
	// ç›´æ¥åˆ›å»º
	map11 := map[int]string{
		1: "12345",
		2: "qaz",
		3: "wsx", // æ³¨æ„ï¼šæœ€åä¸€ä¸ª
	}
	fmt.Println(map11)

	// ä½¿ç”¨makeåˆ›å»º
	map12 := make(map[int]string)
	map12[1] = "qqq"
	map12[1] = "aaa"
	map12[2] = "qqq"
	map12[3] = "zzz"
	fmt.Println(map12)

	// å…ˆå£°æ˜å˜é‡ï¼Œåœ¨èµ‹å€¼æ•°æ®
	var map13 map[int]string = map[int]string{}
	fmt.Println(map13)
	map13[11] = "qwertyu"
	fmt.Println(map13)
	map13 = nil // ç½®ç©ºmapä¹‹åå°±ä¸èƒ½åœ¨ä½¿ç”¨äº†
	fmt.Println(map13)
	//map13[22] = "qwerqwertyutyu" // panic: assignment to entry in nil map

	//2. map çš„åŸºæœ¬æ“ä½œ
	// ï¼ˆ1ï¼‰å¢åˆ æ”¹æŸ¥
	map21 := make(map[int]string)
	map21[1] = "qqq"
	map21[2] = "aaa"
	map21[3] = "zzz"
	map21[4] = "xxx"
	map21[5] = "sss"
	map21[6] = "www"
	fmt.Println(map21)

	// b) è·å–å€¼
	fmt.Println(map21[5])

	// c) åˆ¤æ–­é”®æ˜¯å¦å­˜åœ¨
	val, err := map21[5]
	if err {
		fmt.Println("æ•°æ®è·å–æˆåŠŸï¼", val)
	} else {
		fmt.Println("æ•°æ®è·å–å¤±è´¥å¤±è´¥ï¼")
	}
	val2, err2 := map21[555]
	if err2 {
		fmt.Println("æ•°æ®è·å–æˆåŠŸï¼", val2)
	} else {
		fmt.Println("æ•°æ®è·å–å¤±è´¥å¤±è´¥ï¼")
	}

	// d) åˆ é™¤é”®
	fmt.Println(map21)
	delete(map21, 2)
	fmt.Println(map21)

	// e) éå† map
	// âš ï¸ map æ˜¯æ— åºçš„ï¼Œéå†ç»“æœæ˜¯éšæœºçš„ï¼âš ï¸
	for key, val := range map21 {
		fmt.Printf(" key = %d, val = %s \n", key, val)
	}
	println("------------------------------------------")

	// 3. map çš„é«˜é˜¶ç”¨æ³•
	//ï¼ˆ1ï¼‰map ä½œä¸ºå‡½æ•°å‚æ•°
	map31 := make(map[int]string)
	map31[1] = "qqq"
	map31[2] = "aaa"
	map31[3] = "zzz"
	map31[4] = "xxx"
	map31[5] = "sss"
	map31[6] = "www"
	fmt.Println(map31)
	// âš ï¸ map ä½œä¸ºå‡½æ•°å‚æ•°æ—¶ï¼Œæ˜¯ "å¼•ç”¨ä¼ é€’"ï¼Œå³å‡½æ•°å†…éƒ¨ä¿®æ”¹ä¼šå½±å“å¤–éƒ¨ï¼
	mapFunc1(map31)
	fmt.Println(map31)
	println("------------------------------------------")

	// ï¼ˆ2ï¼‰map çš„åµŒå¥—
	map32 := make(map[int]map[int]string)
	map32[1] = map[int]string{
		11: "1-1",
		12: "1-2",
		13: "1-3",
	}
	map32[2] = map[int]string{
		21: "2-1",
		22: "2-2",
	}
	map32[3] = map[int]string{
		31: "3-1",
	}
	map32[4] = map[int]string{}
	// map[1:map[11:1-1 12:1-2 13:1-3] 2:map[21:2-1 22:2-2] 3:map[31:3-1] 4:map[]]
	fmt.Println(map32)
	println("------------------------------------------")
	map32[4][41] = "4-1" // ä¸å»ºè®®ä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œå› ä¸ºmap32[4]å¯èƒ½ä¸ºnilï¼Œå»ºè®®å…ˆæ‹¿å‡ºæ¥çœ‹çœ‹map32[4]æœ‰æ²¡æœ‰åœ¨ç»™ä»–èµ‹å€¼
	// map32[5][41] = "5-1" // panic: assignment to entry in nil map
	val3, err := map32[4]
	if err {
		val3[42] = "4-2"
	}
	fmt.Println(map32)
	println("------------------------------------------")

	// éå†åµŒå¥—map
	for key1, innerMap := range map32 {
		fmt.Printf("å¤–å±‚ key = %d \n", key1)
		for key2, val := range innerMap {
			fmt.Printf("\t å†…å±‚ key = %dï¼Œ val = %s \n", key2, val)
		}
		println()
	}
	println("------------------------------------------")

	// ï¼ˆ3ï¼‰map ä¸ slice ç»“åˆ
	// a) map[string][]intï¼Œmapçš„valueä¸­å­˜[]int
	var map33 = make(map[string][]int)
	fmt.Println(map33)
	map33["sli1"] = []int{1, 2, 3, 4, 5}
	map33["sli2"] = []int{21, 22, 232, 24, 25}
	fmt.Println(map33)
	println("------------------------------------------")
	// b) []map[string]ï¼Œsliceä¸­å­˜map[string]

	sli33 := []map[int]string{map11, map12, map13}
	fmt.Println(sli33)
	println("------------------------------------------")

	// ç”±äºmapæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„æ–¹æ³•ï¼Œå› æ­¤éœ€è¦å¼•å…¥çº¿ç¨‹å®‰å…¨çš„æ˜ å°„ sync.Map
	//ï¼ˆ4ï¼‰å¹¶å‘å®‰å…¨çš„ sync.Map
	//Go çš„ map ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¤šä¸ª Goroutine å¹¶å‘è¯»å†™ map å¯èƒ½ä¼šå¯¼è‡´ fatal error: concurrent map writesã€‚
	test54_04_syncMap()
	println("------------------------------------------")

}

// å£°æ˜ä¸€ä¸ªå…¨å±€å˜é‡sync.Map

var syncMap sync.Map

func test54_04_syncMap() {
	// æ·»åŠ æ•°æ®
	syncMap.Store("key1", 123)
	syncMap.Store("key2", 456)
	syncMap.Store("key3", 789)

	// è·å–æ•°æ®
	val, err := syncMap.Load("key1")
	if err {
		fmt.Println("syncMap[key1] = ", val)
	}

	// éå†sync.Map
	syncMap.Range(func(key, value any) bool {
		fmt.Printf("syncMap[\"%s\"] = %d \n", key, value)
		return true
	})

	// 4. map çš„æ€§èƒ½ä¼˜åŒ–
	//ï¼ˆ1ï¼‰é¢„åˆ†é…å®¹é‡
	//å¦‚æœäº‹å…ˆçŸ¥é“å¤§æ¦‚çš„ map å¤§å°ï¼Œå¯ä»¥ç”¨ make(map[T]T, capacity) é¢„åˆ†é…ï¼Œå‡å°‘æ‰©å®¹å¼€é”€ï¼š
	map4 := make(map[string]int, 1000) // é¢„åˆ†é… 1000 ä¸ªé”®å€¼å¯¹
	//ï¼ˆ2ï¼‰é¿å… map é¢‘ç¹æ‰©å®¹
	//map åœ¨å…ƒç´ æ•°é‡å¢é•¿æ—¶ï¼Œå¯èƒ½ä¼šè§¦å‘ rehashï¼ˆé‡æ–°åˆ†é…å†…å­˜ï¼‰ï¼Œå½±å“æ€§èƒ½ã€‚è‹¥ map é¢‘ç¹å¢åˆ ï¼Œå¯è€ƒè™‘ å®šæœŸæ¸…ç©º æˆ– é‡æ–°åˆ›å»º mapï¼š
	map4 = make(map[string]int, len(map4)) // é‡æ–°åˆ†é…å†…å­˜
	// 3ï¼‰æ¸…ç©º map
	//Go æ²¡æœ‰ clear(map) æ–¹æ³•ï¼Œåªèƒ½é‡æ–°åˆ›å»ºä¸€ä¸ªç›¸åŒå¤§å°çš„mapåœ¨èµ‹å€¼ç»™è¯¥å˜é‡ï¼Œæˆ–è€… æ‰‹åŠ¨åˆ é™¤æ‰€æœ‰é”®ï¼ˆæ€§èƒ½è¾ƒå·®ï¼‰é€šè¿‡éå†mapæ¥è°ƒç”¨delete(map, key)
	map4 = make(map[string]int, len(map4)) // ç›´æ¥é‡æ–°åˆ›å»º

	fmt.Println(map4)

	//5. map å¸¸è§é™·é˜±
	//ï¼ˆ1ï¼‰è¯»å– nil map

}

func mapFunc1(m map[int]string) {
	for key, val := range m {
		m[key] = m[key] + "-" + strconv.Itoa(key)
		fmt.Printf(" key = %d, val = %s \n", key, val)
	}
}

// Go è¯­è¨€ä¸­çš„ Slice è¯¦è§£åŠé«˜é˜¶ç”¨æ³• ğŸš€
// åœ¨ Go è¯­è¨€ä¸­ï¼Œsliceï¼ˆåˆ‡ç‰‡ï¼‰æ˜¯åŸºäº arrayï¼ˆæ•°ç»„ï¼‰çš„åŠ¨æ€ã€å¯å˜é•¿åº¦çš„æ•°æ®ç»“æ„ï¼Œæä¾›äº†æ›´çµæ´»çš„æ•°ç»„æ“ä½œèƒ½åŠ›ã€‚
// ç†è§£ slice æ˜¯å†™å¥½ Go ä»£ç çš„å…³é”®ï¼Œå°¤å…¶æ˜¯æ¶‰åŠå†…å­˜ç®¡ç†ã€æ€§èƒ½ä¼˜åŒ–ã€é«˜æ•ˆæ•°æ®æ“ä½œç­‰æ–¹é¢ã€‚
func test54_03() {

	/*
		1. Slice çš„åŸºç¡€æ¦‚å¿µ
		ï¼ˆ1ï¼‰ä»€ä¹ˆæ˜¯ Sliceï¼Ÿ
			slice æ˜¯ä¸€ä¸ª å¼•ç”¨ç±»å‹ï¼Œæœ¬è´¨ä¸Šæ˜¯å¯¹ åº•å±‚æ•°ç»„çš„ä¸€ä¸ªè§†å›¾ï¼Œå®ƒåŒ…å«ä»¥ä¸‹ä¸‰éƒ¨åˆ†ï¼š
				æŒ‡å‘åº•å±‚æ•°ç»„çš„æŒ‡é’ˆ
				åˆ‡ç‰‡çš„é•¿åº¦ï¼ˆlenï¼‰
				åˆ‡ç‰‡çš„å®¹é‡ï¼ˆcapï¼‰
	*/

	var arr []int = []int{1, 2, 3, 4, 5, 6, 7, 8, 9}
	sli1 := arr[0:8]
	fmt.Println(sli1)
	fmt.Println(len(sli1))
	fmt.Println(cap(sli1))

	// (2)ã€sliceçš„åˆ›å»ºæ–¹å¼
	// 1.2.1ã€ç›´æ¥ä½¿ç”¨ []T{} è¯­æ³•
	sli121 := []int{11, 22, 33}
	fmt.Println(sli121)

	// 1.2.2ã€é€šè¿‡æ•°ç»„åˆ›å»º
	var arr122 []int = []int{1, 2, 3, 4, 5, 6}
	sli122 := arr122[0:3]
	fmt.Println(sli122)

	// 1.2.3ã€é€šè¿‡ make åˆ›å»º
	var sli123 []int = make([]int, 6, 9)
	fmt.Println(sli123)
	_ = append(sli123, 666) // å¯ä»¥çœ‹å¾—åˆ°å¿…é¡»å°†appendæ–°åˆ›å»ºçš„slièµ‹å€¼æ‰èƒ½ç”Ÿæ•ˆï¼Œæ„æ€å¾ˆæ˜æ˜¾appendä¸æ”¹å˜åŸåˆ‡ç‰‡
	fmt.Println(sli123)
	sli123 = append(sli123, 999)
	fmt.Println(sli123)

	println("--------------------------------------")

	//2. Slice çš„é«˜çº§ç”¨æ³•
	//ï¼ˆ1ï¼‰åˆ‡ç‰‡æ‰©å®¹
	//åˆ‡ç‰‡å®¹é‡ cap ç¡®å®šäº†æœ€å¤§å¯ç”¨ç©ºé—´ï¼Œå¦‚æœ append() è¶…å‡º capï¼ŒGo è¿è¡Œæ—¶ä¼šåˆ›å»ºæ–°çš„åº•å±‚æ•°ç»„ï¼Œå¹¶å°†åŸåˆ‡ç‰‡çš„æ•°æ®å¤åˆ¶è¿‡å»ã€‚
	s := []int{1, 2, 3}
	fmt.Printf("len = %d, cap = %d \n", len(s), cap(s)) // len = 3, cap = 3

	s = append(s, 4, 5, 6)                              // è¶…å‡ºåŸå§‹å®¹é‡ï¼Œè§¦å‘æ‰©å®¹
	fmt.Println(s)                                      // [1 2 3 4 5 6]
	fmt.Printf("len = %d, cap = %d \n", len(s), cap(s)) // len = 6, cap = 6
	s = append(s, 7, 8, 9)                              // è¶…å‡ºåŸå§‹å®¹é‡ï¼Œè§¦å‘æ‰©å®¹
	fmt.Println(s)                                      // [1 2 3 4 5 6 7 8 9]]
	fmt.Printf("len = %d, cap = %d \n", len(s), cap(s)) // len = 9, cap = 12

	/*ï¼ˆ2ï¼‰æ‰©å®¹æœºåˆ¶
	Go é‡‡ç”¨æŒ‡æ•°æ‰©å®¹ç­–ç•¥ï¼ˆå¤§è‡´æ˜¯ 1.25x~2x æ‰©å±•ï¼‰ï¼Œæ ¸å¿ƒè§„åˆ™ï¼š
		é•¿åº¦ â‰¤ 1024 æ—¶ï¼ŒæŒ‰ 2 å€ æ‰©å±•
		é•¿åº¦ > 1024 æ—¶ï¼Œæ¯æ¬¡å¢é•¿ 1.25 å€
		è§¦å‘æ‰©å®¹æ—¶ï¼Œä¼šåˆ›å»ºæ–°æ•°ç»„ï¼Œæ‹·è´æ—§æ•°æ®åˆ°æ–°æ•°ç»„
	*/

	//ï¼ˆ3ï¼‰åˆ‡ç‰‡å…±äº«åº•å±‚æ•°ç»„
	//å¤šä¸ªåˆ‡ç‰‡å¯èƒ½å…±äº«åŒä¸€å—åº•å±‚æ•°ç»„ï¼Œä¿®æ”¹å…¶ä¸­ä¸€ä¸ªä¼šå½±å“å…¶ä»–åˆ‡ç‰‡ï¼š
	arr23 := []int{1, 2, 3, 4, 5, 6, 7, 8, 9}
	fmt.Println(arr23)
	sli231 := arr23[0:8]
	sli232 := arr23[1:6] // å…±äº«ä¸€ä¸ªåº•å±‚æ•°ç»„
	fmt.Println(sli231)
	fmt.Println(sli232)
	// ä¿®æ”¹åŸæ•°ç»„ï¼Œçœ‹è¾“å‡º
	arr23[2] = 666
	fmt.Println(arr23)  // ä¿®æ”¹ä¸º666
	fmt.Println(sli231) // ä¿®æ”¹ä¸º666
	fmt.Println(sli232) // ä¿®æ”¹ä¸º666
	// ä¿®æ”¹æŸä¸€ä¸ªåˆ‡ç‰‡æ•°æ®ï¼Œçœ‹è¾“å‡º
	sli231[3] = 999
	fmt.Println(arr23)  // ä¿®æ”¹ä¸º 999
	fmt.Println(sli231) // ä¿®æ”¹ä¸º 999
	fmt.Println(sli232) // ä¿®æ”¹ä¸º 999
	// ä»¥ä¸Šè¡¨æ˜ï¼Œsliceåˆ‡ç‰‡æ˜¯å…±äº«äº†åŒä¸€ä¸ªåº•å±‚æ•°ç»„ï¼Œsliåªæ˜¯ä¸€ä¸ªæŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆ
	// ä»¥ä¸Šåœ¨å…¶ä»–è¯­è¨€ï¼ˆå¦‚ï¼šJavaæˆ–cï¼‰é‡Œé¢è¢«ç§°ä¸ºæµ…æ‹·è´

	// âœ… è§£å†³ä»¥ä¸Šæµ…æ‹·è´çš„æ–¹æ³•ï¼šä½¿ç”¨ copy() å¤åˆ¶åˆ‡ç‰‡ï¼Œé¿å…å…±äº«åº•å±‚æ•°ç»„ï¼š

	sli233 := make([]int, len(sli232))
	copy(sli233, sli232)
	fmt.Println(sli233)
	sli233[1] = 888
	fmt.Println(sli233)
	fmt.Println(arr23)  // æœªä¿®æ”¹
	fmt.Println(sli231) // æœªä¿®æ”¹
	fmt.Println(sli232) // æœªä¿®æ”¹

	sli233t := deepCopy(arr23, 1, 5)
	fmt.Println("deepCopy", sli233t)
	println("---------------------------------------")

	// 4ï¼‰åˆ é™¤å…ƒç´ 
	//Go æ²¡æœ‰æä¾›ç›´æ¥åˆ é™¤å…ƒç´ çš„æ–¹æ³•ï¼Œä½†å¯ä»¥ç”¨ append() å˜é€šå¤„ç†ï¼š
	//a) åˆ é™¤ç´¢å¼• i å¤„çš„å…ƒç´ 
	fmt.Println(sli231)
	i := 2
	// å‰é¢çš„sli231[0:i]ï¼Œè¡¨ç¤ºå–sli2310åˆ°i-1ä½ç½®çš„æ•°æ®
	// åé¢çš„sli231[i+1:len(sli231)]ï¼Œè¡¨ç¤ºå–i+1ä»¥åçš„æ‰€æœ‰æ•°æ®ï¼Œå…¶ä¸­ä¸‰ä¸ªç‚¹...è¡¨ç¤ºè§£å‹ç¼©åˆ‡ç‰‡ï¼Œå³å°†[1,2,3]çš„æ•°æ®è½¬åŒ–ä¸º1,2,3ã€‚è¿™ä¸ªç±»ä¼¼äºjsçš„ES6çš„å†™æ³•
	sli231 = append(sli231[0:i], sli231[i+1:len(sli231)]...)
	fmt.Println(sli231)
	sli231 = append(sli231[:i], sli231[i+1:]...) // ç®€åŒ–ç‰ˆæœ¬
	fmt.Println(sli231)
	println("---------------------------------------")

	// b) åˆ é™¤åˆ‡ç‰‡å¼€å¤´çš„å…ƒç´ ï¼Œå¤´åˆ æ³•
	fmt.Println(sli231)
	sli231 = sli231[1:]
	fmt.Println(sli231)
	println("---------------------------------------")

	// c) åˆ é™¤åˆ‡ç‰‡æœ«å°¾çš„å…ƒç´ ï¼Œå°¾åˆ æ³•
	fmt.Println(sli231)
	sli231 = sli231[:len(sli231)-1]
	fmt.Println(sli231)
	println("---------------------------------------")

	/*
		ï¼ˆ5ï¼‰åˆ‡ç‰‡çš„æ€§èƒ½ä¼˜åŒ–
			a) é¢„åˆ†é…å®¹é‡ï¼Œå‡å°‘æ‰©å®¹
				å¦‚æœå·²çŸ¥æœ€ç»ˆé•¿åº¦ï¼Œä½¿ç”¨ make() é¢„åˆ†é…å†…å­˜ï¼Œé¿å… append() è§¦å‘å¤šæ¬¡æ‰©å®¹
			b) ä½¿ç”¨ copy() é¿å…ä¿®æ”¹åŸæ•°æ®
				å¦‚æœæ•°æ®å…±äº«åº•å±‚æ•°ç»„ï¼Œå»ºè®®ä½¿ç”¨ copy() åˆ›å»ºæ–°åˆ‡ç‰‡ï¼Œé¿å…å‰¯ä½œç”¨ã€‚
			c) é¿å… append() å¼•èµ·çš„åº•å±‚æ•°ç»„å˜åŒ–
				å¦‚æœéœ€è¦å¤šä¸ªåˆ‡ç‰‡æŒ‡å‘ä¸åŒçš„å†…å­˜ï¼Œå°½é‡æå‰ copy()ï¼Œæˆ–ç›´æ¥åˆ›å»ºæ–° sliceã€‚
	*/
}

// æ·±æ‹·è´åˆ‡ç‰‡
// src: åŸæ•°æ®ï¼Œå¯ä»¥æ˜¯æ•°ç»„æˆ–åˆ‡ç‰‡
// startIndex: å¼€å§‹æ‹·è´çš„ç´¢å¼•
// endIndex: ç»“æŸæ‹·è´çš„ç´¢å¼•
// res: æ·±æ‹·è´è¿”å›çš„åˆ‡ç‰‡
func deepCopy(src []int, startIndex int, endIndex int) (res []int) {
	res = make([]int, endIndex-startIndex)
	copy(res, src[startIndex:endIndex])
	return
}

// æŒ‡é’ˆåŸºæœ¬çŸ¥è¯†
func test54_02() {
	//ä½¿ç”¨ new åˆ›å»ºæŒ‡é’ˆ pointer
	//1. åŸºæœ¬ç”¨æ³•
	ptr := new(int)   // åˆ›å»ºä¸€ä¸ªæŒ‡å‘ int ç±»å‹çš„æŒ‡é’ˆ
	fmt.Println(ptr)  // è¾“å‡ºç±»ä¼¼ 0xc0000120a0ï¼ˆæŒ‡é’ˆåœ°å€ï¼‰
	fmt.Println(*ptr) // è¾“å‡º 0ï¼ˆint çš„é›¶å€¼ï¼‰
	//new(int) åˆ†é…äº†ä¸€ä¸ª int ç±»å‹çš„å†…å­˜ï¼Œå¹¶è¿”å›è¯¥å†…å­˜çš„æŒ‡é’ˆã€‚
	//*ptr è·å–æŒ‡é’ˆæŒ‡å‘çš„å€¼ï¼Œé»˜è®¤å€¼ä¸º 0ã€‚

	//2. new å’Œ var çš„åŒºåˆ«
	var x int        // ç›´æ¥å£°æ˜å˜é‡ xï¼Œå€¼ä¸º 0
	ptr2 := new(int) // ä½¿ç”¨ new åˆ†é…å†…å­˜å¹¶è¿”å›æŒ‡é’ˆï¼ŒæŒ‡å‘ 0

	fmt.Println(x)              // 0
	fmt.Println(&x)             // 0xc00000a138
	fmt.Println(*ptr2)          // 0
	fmt.Println(&ptr2)          // 0xc000064070
	fmt.Println(&(*ptr2))       // 0xc00000a140
	fmt.Println(*(&(*ptr2)))    // 0
	fmt.Println(&(*(&(*ptr2)))) // 0xc00000a140

	//åŒºåˆ«ï¼š
	//var x int ç›´æ¥åˆ†é…å˜é‡ x åœ¨æ ˆå¸§ä¸Šï¼Œç±»å‹ä¸º intã€‚
	//new(int)  è¿”å›çš„æ˜¯æŒ‡é’ˆ *intï¼Œåˆ†é…çš„å†…å­˜åœ¨å †ä¸Šï¼ˆGo è¿è¡Œæ—¶ä¼šä¼˜åŒ–ï¼‰ã€‚

	//3. new åˆ›å»ºç»“æ„ä½“æŒ‡é’ˆ
	type Person struct {
		Name string
		Age  int
	}

	p := new(Person) // åˆ›å»º *Person æŒ‡é’ˆ
	fmt.Println(p)   // è¾“å‡º &{ 0}ï¼ˆæŒ‡å‘é›¶å€¼çš„ç»“æ„ä½“ï¼‰

	//ç›¸å½“äºï¼š
	var p2 *Person = &Person{} // å¦ä¸€ç§å†™æ³•
	fmt.Println(p2)

	//4. new vs & å–åœ°å€
	p1 := new(int)   // ä½¿ç”¨ new
	p22 := &Person{} // ç›´æ¥å–åœ°å€

	fmt.Println(p1, *p1) // 0xc000010250 0
	fmt.Println(p22)     // &{ 0}
	//åŒºåˆ«ï¼š
	//new(Type) åªåˆ†é…å†…å­˜ï¼Œä¸åˆå§‹åŒ–ï¼ˆè¿”å›æŒ‡é’ˆï¼‰ã€‚
	//&Type{} ç›´æ¥åˆå§‹åŒ–ç»“æ„ä½“ï¼ˆä¹Ÿæ˜¯è¿”å›æŒ‡é’ˆï¼‰ã€‚

	//5. ä»€ä¹ˆæ—¶å€™ç”¨ newï¼Ÿ
	//ä¸€èˆ¬ä¸æ¨èç”¨ newï¼Œå› ä¸º &Type{} æ›´ç›´è§‚ï¼Œä»£ç æ›´ç®€æ´ã€‚
	//new é€‚ç”¨äºç®€å•ç±»å‹ï¼ˆintã€float64ï¼‰çš„æŒ‡é’ˆåˆ†é…ï¼Œä¸å¸¸ç”¨äºå¤æ‚ç»“æ„ä½“ã€‚
	//æ€»ç»“
	//âœ… new(T) åˆ†é…å†…å­˜å¹¶è¿”å›æŒ‡é’ˆï¼Œé»˜è®¤å€¼æ˜¯é›¶å€¼ã€‚
	//âœ… new é€‚ç”¨äºåˆ›å»ºåŸºæœ¬ç±»å‹å’Œç»“æ„ä½“çš„æŒ‡é’ˆï¼Œä½†ä¸å¦‚ &T{} ç›´è§‚ã€‚
	//âœ… åœ¨å®é™…å¼€å‘ä¸­ï¼Œç»“æ„ä½“æ¨èç”¨ &T{}ï¼Œè€Œä¸æ˜¯ new(T)ã€‚
}

func test54_01() {
	/*
		1. å¸ƒå°”ç±»å‹ (bool)
		å–å€¼ï¼štrue / false
		é»˜è®¤å€¼ï¼šfalse
		ä¸èƒ½ä½¿ç”¨ int ä»£æ›¿ boolï¼ˆå¦‚ 1 ä¸èƒ½è¡¨ç¤º trueï¼‰
		é€»è¾‘è¿ç®—ç¬¦ï¼š&&ï¼ˆä¸ï¼‰ã€||ï¼ˆæˆ–ï¼‰ã€!ï¼ˆéï¼‰
	*/

	/*
		2. æ•´å‹ (int, uint, intX, uintX)
		Go è¯­è¨€çš„æ•´å‹æœ‰ æœ‰ç¬¦å· (int) å’Œ æ— ç¬¦å· (uint) ä¸¤ç§ï¼š

		ç±»å‹	ä½æ•°	èŒƒå›´
		int8	8	-128 ~ 127
		int16	16	-32,768 ~ 32,767
		int32	32	-2,147,483,648 ~ 2,147,483,647
		int64	64	-9,223,372,036,854,775,808 ~ 9,223,372,036,854,775,807
		uint8	8	0 ~ 255
		uint16	16	0 ~ 65,535
		uint32	32	0 ~ 4,294,967,295
		uint64	64	0 ~ 18,446,744,073,709,551,615
		int / uint	å–å†³äºç³»ç»Ÿ	32 ä½ç³»ç»Ÿæ˜¯ 32 ä½ï¼Œ64 ä½ç³»ç»Ÿæ˜¯ 64 ä½
		æ³¨æ„ç‚¹
		int å’Œ uint å¤§å°å–å†³äº CPU æ¶æ„ï¼ˆ32/64 ä½ï¼‰ã€‚
		æ•´å‹è½¬æ¢å¯èƒ½å¯¼è‡´æº¢å‡ºï¼Œå¦‚ var x int8 = 128 ä¼šæŠ¥é”™ã€‚
		uintptr å¯å­˜å‚¨æŒ‡é’ˆåœ°å€ï¼ˆä¸ unsafe.Pointer ç›¸å…³ï¼‰ã€‚
	*/

	/*
		3. æµ®ç‚¹æ•° (float32, float64)
		å–å€¼èŒƒå›´ï¼š
		float32: çº¦ 7 ä½å°æ•°ç²¾åº¦
		float64: çº¦ 15 ä½å°æ•°ç²¾åº¦
		é»˜è®¤å€¼ï¼š0.0
		ä¸èƒ½ç›´æ¥ä¸ int è¿ç®—ï¼ˆéœ€è¦è½¬æ¢ï¼‰
		è®¡ç®—å¯èƒ½æœ‰ ç²¾åº¦è¯¯å·®ï¼ˆæµ®ç‚¹æ•°ä¸èƒ½ç²¾ç¡®è¡¨ç¤ºéƒ¨åˆ†å°æ•°ï¼‰
	*/

	/*
		4. å¤æ•° (complex64, complex128)
		complex64 ç”± float32 + float32i ç»„æˆ
		complex128 ç”± float64 + float64i ç»„æˆ
		å¤æ•°çš„å®éƒ¨å’Œè™šéƒ¨å¯é€šè¿‡ real() å’Œ imag() è·å–
	*/

	/*
		5. å­—ç¬¦ (rune å’Œ byte)
		byteï¼ˆuint8 åˆ«åï¼‰ï¼šå­˜å‚¨ ASCII å­—ç¬¦
		runeï¼ˆint32 åˆ«åï¼‰ï¼šå­˜å‚¨ Unicodeï¼ˆUTF-8ï¼‰å­—ç¬¦
		Go çš„å­—ç¬¦ä¸²æ˜¯ ä¸å¯å˜ çš„
		rune é€‚ç”¨äº ä¸­æ–‡ã€emoji ç­‰é ASCII å­—ç¬¦
	*/
	// Go çš„å­—ç¬¦ä¸²æ˜¯ ä¸å¯å˜ çš„
	var ch1 byte = 'A'
	var ch2 rune = 'ä½ '
	fmt.Printf("%c %d\n", ch1, ch1) // A 65
	fmt.Printf("%c %d\n", ch2, ch2) // ä½  20320

	/*
		6. å­—ç¬¦ä¸² (string)
		é»˜è®¤å€¼ï¼š""
		ä¸å¯å˜ï¼ˆä¸èƒ½ç›´æ¥ä¿®æ”¹ string çš„å­—ç¬¦ï¼‰
		ä½¿ç”¨ + è¿›è¡Œæ‹¼æ¥
		ä½¿ç”¨ len() è·å–å­—èŠ‚é•¿åº¦ï¼ˆä¸æ˜¯å­—ç¬¦æ•°ï¼‰
		å¤„ç† Unicode éœ€è¦ rune æˆ– utf8.RuneCountInString()
	*/

	s := "ä½ å¥½ï¼ŒGo"
	fmt.Println(len(s)) // è¾“å‡º 1ï¼ˆå› ä¸ºä¸­æ–‡å  3 å­—èŠ‚ï¼‰ 11 = 3*3 + 2

	r := []rune(s)
	fmt.Println(len(r)) // è¾“å‡º 5ï¼ˆå› ä¸ºæœ‰ 5 ä¸ªå­—ç¬¦ï¼‰

	s2 := "hello"
	bs := []byte(s2) // è½¬æ¢ä¸ºå¯å˜çš„ `[]byte`
	bs[0] = 'H'
	s3 := string(bs) // è½¬å› string
	fmt.Println(s3)  // "Hello"

	r4 := []rune(s2)
	r4[0] = 97
	fmt.Println(r4)
	s5 := string(r4) // è½¬å› string
	fmt.Println(s5)  // "aello"

	/*
		7. æŒ‡é’ˆ (*T)
		var p *int = nil // é»˜è®¤å€¼ nil
		å–åœ°å€ &ï¼Œè·å–æŒ‡é’ˆçš„å€¼ *
		new() åˆ›å»ºæŒ‡é’ˆ
	*/
	a := 10
	p := &a
	fmt.Println(*p) // 10
	*p = 20
	fmt.Println(a) // 20

	//åœ¨ Go è¯­è¨€ä¸­ï¼Œnew å…³é”®å­—å¯ä»¥ç”¨äºåˆ›å»º æŒ‡å‘é›¶å€¼çš„å˜é‡çš„æŒ‡é’ˆã€‚å®ƒçš„ä½œç”¨æ˜¯åˆ†é…å†…å­˜å¹¶è¿”å›æŒ‡å‘è¯¥å†…å­˜çš„æŒ‡é’ˆã€‚
	ptr := new(int)   // åˆ›å»ºä¸€ä¸ªæŒ‡å‘ int ç±»å‹çš„æŒ‡é’ˆ
	fmt.Println(ptr)  // è¾“å‡ºç±»ä¼¼ 0xc0000120a0ï¼ˆæŒ‡é’ˆåœ°å€ï¼‰
	fmt.Println(*ptr) // è¾“å‡º 0ï¼ˆint çš„é›¶å€¼ï¼‰
	//new(int) åˆ†é…äº†ä¸€ä¸ª int ç±»å‹çš„å†…å­˜ï¼Œå¹¶è¿”å›è¯¥å†…å­˜çš„æŒ‡é’ˆã€‚
	//*ptr è·å–æŒ‡é’ˆæŒ‡å‘çš„å€¼ï¼Œé»˜è®¤å€¼ä¸º 0ã€‚

	/*
								8. åˆ‡ç‰‡ ([]T)
								å˜é•¿æ•°ç»„ï¼Œåº•å±‚åŸºäº array
								len() è·å–é•¿åº¦ï¼Œcap() è·å–å®¹é‡
								append() åŠ¨æ€æ‰©å±•å®¹é‡

					æ•°ç»„ vs. åˆ‡ç‰‡
					ç‰¹æ€§				æ•°ç»„ (array)			åˆ‡ç‰‡ (slice)
					é•¿åº¦				å›ºå®šï¼Œä¸å¯å˜			åŠ¨æ€å¢é•¿
					æ˜¯å¦å¼•ç”¨ä¼ é€’		å€¼ä¼ é€’ï¼Œæ‹·è´æ•´ä¸ªæ•°ç»„	å¼•ç”¨ä¼ é€’ï¼Œåº•å±‚å…±äº«æ•°æ®
					é€‚ç”¨åœºæ™¯			é€‚åˆ å°å‹å›ºå®šæ•°æ®		é€‚åˆ çµæ´»å˜é•¿æ•°æ®

				æ€»ç»“
				æ•°ç»„æ˜¯ Go çš„å¤åˆæ•°æ®ç±»å‹ï¼Œä¸æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ã€‚
				æ•°ç»„é•¿åº¦å›ºå®šï¼Œä¸åŒé•¿åº¦çš„æ•°ç»„æ˜¯ä¸åŒçš„ç±»å‹ã€‚
				æ•°ç»„æ˜¯å€¼ç±»å‹ï¼Œå‡½æ•°ä¼ é€’æ—¶ä¼šæ‹·è´æ•´ä¸ªæ•°ç»„ï¼ˆä¸åƒåˆ‡ç‰‡æ˜¯å¼•ç”¨ä¼ é€’ï¼‰ã€‚
				æ•°ç»„é€‚ç”¨äºå°å‹ã€å›ºå®šå¤§å°çš„æ•°æ®ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹åº”è¯¥ä½¿ç”¨ åˆ‡ç‰‡ï¼ˆsliceï¼‰ ä»£æ›¿æ•°ç»„ã€‚
				å¦‚æœä½ çš„æ•°æ®é•¿åº¦æ˜¯åŠ¨æ€å˜åŒ–çš„ï¼Œé€šå¸¸åº”è¯¥é€‰æ‹© åˆ‡ç‰‡ï¼ˆsliceï¼‰ è€Œä¸æ˜¯ æ•°ç»„ï¼ˆarrayï¼‰ã€‚


			åˆ‡ç‰‡çš„æœ¬è´¨
			åˆ‡ç‰‡ç”± ä¸‰éƒ¨åˆ† ç»„æˆï¼š

			æŒ‡å‘åº•å±‚æ•°ç»„çš„æŒ‡é’ˆï¼ˆptrï¼‰
			åˆ‡ç‰‡é•¿åº¦ï¼ˆlenï¼‰ï¼šå½“å‰åˆ‡ç‰‡åŒ…å«çš„å…ƒç´ æ•°
			åˆ‡ç‰‡å®¹é‡ï¼ˆcapï¼‰ï¼šåˆ‡ç‰‡åº•å±‚æ•°ç»„ä» ptr å¼€å§‹çš„æœ€å¤§å¯ç”¨å…ƒç´ æ•°

		æ³¨æ„ï¼šå¦‚æœ cap(s) ä¸è¶³ï¼Œappend() ä¼šåˆ›å»ºæ–°çš„åº•å±‚æ•°ç»„ï¼ŒåŸæ¥çš„åˆ‡ç‰‡å°†ä¸ä¼šä¿®æ”¹åŸæ•°ç»„ã€‚
	*/
	s11 := []int{1, 2, 3}
	s11 = append(s11, 4)
	fmt.Println(s11) // [1 2 3 4]

	/*
		9. æ˜ å°„ (map[K]V)
		æ— åºé”®å€¼å¯¹
		make(map[K]V) åˆå§‹åŒ–
		v, ok := map[key] åˆ¤æ–­é”®æ˜¯å¦å­˜åœ¨
	*/
	m := make(map[string]int)
	m["age"] = 25
	v, ok := m["age"]
	fmt.Println(v, ok) // 25 true

	/*
		10. æ¥å£ (interface{})
		interface{} å¯è¡¨ç¤º ä»»æ„ç±»å‹
		éœ€è¦ ç±»å‹æ–­è¨€ (.(T)) æˆ– åå°„ (reflect åŒ…) å¤„ç†
	*/
	var x interface{} = "hello"
	s12, ok := x.(string)
	fmt.Println(s12, ok) // hello true

	/*
		ç±»å‹				å…³é”®ç‰¹æ€§
		bool			é€»è¾‘è¿ç®—ï¼Œä¸ä¸ int äº’æ¢
		int/uint		æ•´æ•°ç±»å‹ï¼Œé¿å…æº¢å‡º
		float32/float64	å¯èƒ½æœ‰ç²¾åº¦è¯¯å·®
		complex64/128	å¤æ•°è®¡ç®—
		byte/rune		å¤„ç†å­—ç¬¦ï¼Œrune ç”¨äº Unicode
		string			ä¸å¯å˜ï¼Œå¯ç”¨ rune å¤„ç† Unicode
		pointer			å˜é‡åœ°å€æ“ä½œ
		slice			å˜é•¿æ•°ç»„
		map				æ— åºé”®å€¼å­˜å‚¨
		interface{}		åŠ¨æ€ç±»å‹
	*/
}
