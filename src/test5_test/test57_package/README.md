
https://juejin.cn/post/7247518785834041403
https://www.cnblogs.com/yinzhengjie/p/18302301

https://www.cnblogs.com/pass-ion/p/16527005.html
https://blog.csdn.net/qq_58281352/article/details/138917235

https://denganliang.github.io/the-way-to-go_ZH_CN/directory.htmlï¼Œç¬¬ 9 ç« ï¼šåŒ… (package)

# äºŒ.go moduleä»‹ç»
## 1.GO111MODULEç¯å¢ƒå˜é‡
è¿™ä¸ªç¯å¢ƒå˜é‡æ˜¯"Go Modules"çš„å¼€å…³ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‚æ•°ï¼š
auto:
    åªåœ¨é¡¹ç›®åŒ…å«äº†go.modæ–‡ä»¶æ—¶å¯åŠ¨go modulesï¼Œåœ¨Go1.13ç‰ˆæœ¬ä¸­æ˜¯é»˜è®¤å€¼ã€‚
on:
    æ— è„‘å¯åŠ¨Go Modulesï¼Œæ¨èè®¾ç½®ï¼ŒGo1.14ç‰ˆæœ¬ä»¥åçš„é»˜è®¤å€¼ã€‚
off:
    ç¦ç”¨Go Modulesï¼Œä¸€èˆ¬æ²¡æœ‰ä½¿ç”¨go modulesçš„å·¥ç¨‹ä½¿ç”¨ã€‚

æˆ‘ç°åœ¨ä½¿ç”¨çš„Goç‰ˆæœ¬æ˜¯1.22.4ï¼Œé»˜è®¤GO111MODULE=onã€‚


## 2.GOPROXY


## 




# åŒ…çš„å®šä¹‰
åœ¨Goè¯­è¨€ä¸­ï¼ŒåŒ…æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªæºç æ–‡ä»¶çš„é›†åˆï¼Œæºç æ–‡ä»¶ä»¥.goä¸ºåç¼€ï¼Œåœ¨æºç æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å£°æ˜å¸¸é‡ã€å˜é‡ã€å‡½æ•°ã€è‡ªå®šä¹‰ç±»å‹ä¸æ–¹æ³•ã€‚

æˆ‘ä»¬å¼€å‘çš„ç¨‹åº(é¡¹ç›®æˆ–è€…ç±»åº“)æ˜¯ç”±ä¸€ä¸ªæˆ–å¤šä¸ªåŒ…æ„æˆçš„ã€‚

# åŒ…çš„å£°æ˜
å¯¹äºGoåˆå­¦è€…æ¥è¯´ï¼Œç›´æ¥å­¦ä¹ Go moduleè¿™ç§åŒ…ç®¡ç†å·¥å…·å°±å¯ä»¥äº†ï¼Œä¸ºäº†åé¢æ›´å¥½åœ°è®²è§£ï¼Œæˆ‘ä»¬å…ˆç”¨go mod initå‘½ä»¤åˆå§‹åŒ–ä¸€ä¸ªé¡¹ç›®ï¼š

moduleï¼ˆmodï¼‰
## åˆ›å»ºä¸€ä¸ªmoduleå—ï¼Œå³go.modæ–‡ä»¶
åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰§è¡Œï¼šgo-devä¸€èˆ¬å°±æ˜¯é¡¹ç›®çš„åç§°
```
go mod init go-dev
```

## ä¸‹è½½å¤–éƒ¨åŒ…æ¨¡å—
é€šè¿‡`go get`å‘½ä»¤ä¸‹è½½ï¼Œä»¥ä¸‹å‡è®¾ä¸‹è½½mysqlæ•°æ®åº“é©±åŠ¨
```
go get github.com/go-sql-driver/mysql
```
æ‰§è¡Œåï¼Œä¼šç”Ÿæˆgo.sumæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶è®°å½•ç€å½“å‰é¡¹ç›®æ¯ä¸ªä¾èµ–åŒ…çš„å“ˆå¸Œå€¼ï¼Œåœ¨é¡¹ç›®æ„å»ºæ—¶ï¼Œä¼šè®¡ç®—ä¾èµ–åŒ…çš„å“ˆå¸Œå€¼ï¼Œå¹¶ä¸go.sumä¸­å¯¹åº”çš„å“ˆå¸Œå€¼æ¯”è¾ƒï¼Œä»¥é˜²æ­¢ä¾èµ–åŒ…è¢«çªœæ”¹ã€‚

æ‰§è¡Œgo getå‘½ä»¤åï¼Œgo.modæ–‡ä»¶ä¹Ÿä¼šæ–°å¢äº†ä¸€æ¡ä¾èµ–è®°å½•ï¼š

![img.png](img.png)
go.modæ–‡ä»¶å†…å®¹
```
module go-dev

go 1.24.0

require (
	filippo.io/edwards25519 v1.1.0 // indirect
	github.com/go-sql-driver/mysql v1.9.0 // indirect
)
```
go.sumå†…å®¹
```
filippo.io/edwards25519 v1.1.0 h1:FNf4tywRC1HmFuKW5xopWpigGjJKiJSV0Cqo0cJWDaA=
filippo.io/edwards25519 v1.1.0/go.mod h1:BxyFTGdWcka3PhytdK4V28tE5sGfRvvvRV7EaN4VDT4=
github.com/go-sql-driver/mysql v1.9.0 h1:Y0zIbQXhQKmQgTp44Y1dp3wTXcn804QoTptLZT1vtvo=
github.com/go-sql-driver/mysql v1.9.0/go.mod h1:pDetrLJeA3oMujJuvXc8RJoasr589B6A9fwzD3QMrqw=
```

## åŒ…å®‰è£…
é€šè¿‡`go install`å‘½ä»¤ä¸‹è½½ï¼Œ
```go
go install github.com/go-sql-driver/mysql
go install go-dev/src/test5_test/test57_package/user
```

## mainåŒ…
Goè¯­è¨€ç¨‹åºçš„å…¥å£mainå‡½æ•°ï¼Œè¯¥å‡½æ•°æ‰€åœ¨çš„åŒ…å¿…é¡»ä¸ºmain:
```go
package main

func main(){
    //...
}
```

# åŒ…çš„å£°æ˜
åŒ…çš„å£°æ˜ä½äºæºæ–‡ä»¶çš„ç¬¬ä¸€è¡Œçš„packageè¯­å¥ï¼Œåé¢è·Ÿç€åŒ…åï¼š
```go
package åŒ…å
```
é™¤äº†mainåŒ…å¤–ï¼Œå…¶ä»–åŒ…çš„åç§°å¿…é¡»ä¸å¯¹åº”çš„ç›®å½•åŒåï¼ŒåŒä¸€ä¸ªç›®å½•ä¸‹æ‰€æœ‰æºç æ–‡ä»¶åŒ…åå¿…é¡»ç›¸åŒï¼Œå¦‚å½“å‰goæ–‡ä»¶ç›®å½•ä¸ºï¼š`/src/test5_test/test57_package/user/user.go`ï¼Œé‚£ä¹ˆuser.goçš„åŒ…å£°æ˜ä¸º
```go
package user
type User struct {
    ID   int
    Name string
}

```


# åŒ…çš„å¯¼å…¥ä¸ä½¿ç”¨
åŒ…å£°æ˜ä¹‹åï¼Œå°±å¯ä»¥åœ¨å…¶ä»–åŒ…ä¸­å¯¼å…¥äº†ï¼Œå¯¼å…¥åŒ…åä½¿ç”¨importè¯­å¥ã€‚

## å¯¼å…¥è·¯å¾„
æ ‡å‡†åº“åŒ…çš„å¯¼å…¥è·¯å¾„ä¸€èˆ¬å°±æ˜¯æ ‡å‡†åº“çš„åç§°ï¼š
```
import "fmt"
import "time"
import "net/http"
```
å¦‚æœæ˜¯æˆ‘ä»¬è‡ªå·±å£°æ˜çš„åŒ…ï¼Œå…¶å¯¼å…¥è·¯å¾„ä¸ºmoduleè·¯å¾„åŠ ä¸ŠåŒ…åï¼Œæ¯”å¦‚æˆ‘ä»¬é¡¹ç›®moduleè·¯å¾„ä¸ºgo-dev/src/test5_test/test57_package/userï¼Œé‚£ä¹ˆè¦å¯¼å…¥useråŒ…ï¼Œ
æ³¨æ„ï¼šgo-devæ˜¯go mod é‚£ä¸€æ­¥åˆ›å»ºçš„æ¨¡å—
```go
import (
    "go-dev/src/test5_test/test57_package/user"
)
```
è¯¦ç»†ä½¿ç”¨å®ä¾‹
```go
package main

import (
	"fmt"
	"go-dev/src/test5_test/test57_package/user"
)

func main() {

	user1 := &user.User{}
	fmt.Println(user1)
	user1.ID = 666
	user1.Name = "å¼ ä¸‰"
	fmt.Println(user1)

}
```




# ä¸¤ç§å¯¼å…¥æ–¹å¼
Goçš„åŒ…æœ‰ä¸¤ç§å¯¼å…¥æ–¹å¼ï¼Œä¸€ç§æ˜¯æ ‡å‡†å¯¼å…¥ï¼Œä¸€ç§æ˜¯åŒ¿åå¯¼å…¥
## æ ‡å‡†å¯¼å…¥
æ™®é€šå¯¼å…¥åœ¨å…³é”®å­—importåè·Ÿç€å¯¼å…¥è·¯å¾„å³å¯ï¼Œç„¶åå°±å¯ä»¥é€šè¿‡åŒ…åè°ƒç”¨åŒ…ä¸‹çš„å˜é‡ã€å‡½æ•°ã€å¸¸é‡äº†ï¼š
```go
package main

import (
	"fmt"
	"go-dev/src/test5_test/test57_package/user"
)

func main() {

	user1 := &user.User{}
	fmt.Println(user1)
	user1.ID = 666
	user1.Name = "å¼ ä¸‰"
	fmt.Println(user1)

}
```

Goæ”¯æŒåœ¨å¯¼å…¥çš„æ—¶å€™ä¸ºåŒ…å–ä¸€ä¸ªåˆ«å(alias)ï¼Œè¿™æ ·å¯ä»¥é¿å…å› åŒ…åç›¸åŒè€Œæ— æ³•å¯¼å…¥çš„é—®é¢˜ï¼Œæ¯”å¦‚ä¸‹é¢æˆ‘ä»¬å£°æ˜ä¸€ä¸ªåç§°ä¸ºtimeçš„åŒ…ï¼š
```go
package main

import (
	"fmt"
	myUser "go-dev/src/test5_test/test57_package/user"
)

func main() {

	user1 := &user.User{}
	fmt.Println(user1)
	user1.ID = 666
	user1.Name = "å¼ ä¸‰"
	fmt.Println(user1)

}
```

å¦‚æœåˆ«åæ˜¯ä¸€ä¸ªç‚¹å·ï¼Œé‚£ä¹ˆæ­¤æ—¶å¯¼å…¥çš„æ‰€æœ‰å˜é‡ã€å‡½æ•°ã€å¸¸é‡éƒ½ä¸éœ€è¦é€šè¿‡åŒ…åæ¥è®¿é—®äº†ï¼š
```go
package main

import (
	"fmt"
	. "go-dev/src/test5_test/test57_package/user"
)

func main() {

	user1 := &user.User{}
	fmt.Println(user1)
	user1.ID = 666
	user1.Name = "å¼ ä¸‰"
	fmt.Println(user1)

}
```
é€šè¿‡importè¯­å¥å¯¼å…¥çš„åŒ…åå¿…é¡»ä½¿ç”¨ï¼Œå¦åˆ™æ— æ³•é€šè¿‡ç¼–è¯‘ã€‚

ä½†æœ‰æ—¶å€™æˆ‘ä»¬å¯¼å…¥åŒ…ä»…ä»…åªæ˜¯ä¸ºäº†å¯¼å…¥æ—¶è‡ªåŠ¨æ‰§è¡ŒåŒ…ä¸­çš„initå‡½æ•°è€Œå·²ï¼Œåœ¨åç»­ä»£ç ä¸­å¹¶ä¸ä¼šä½¿ç”¨è¯¥åŒ…ï¼Œæ­¤æ—¶å¯ä»¥é€šè¿‡åœ¨åŒ…è·¯å¾„å‰é¢åŠ ä¸Šç©ºç™½ç¬¦_å°†å¯¼å…¥å£°æ˜ä¸ºåŒ¿åå¯¼å…¥ï¼š

```go
package main

import (
	"fmt"
	_ "go-dev/src/test5_test/test57_package/user"
)

func main() {

	user1 := &user.User{}
	fmt.Println(user1)
	user1.ID = 666
	user1.Name = "å¼ ä¸‰"
	fmt.Println(user1)

}
```


## å¯è§æ€§
å¯¹äºå®šä¹‰åœ¨åŒ…é‡Œçš„å˜é‡ã€å¸¸é‡ã€å‡½æ•°ç­‰ä»£ç ï¼Œå¦‚æœä¸æƒ³è¢«å…¶ä»–åŒ…è°ƒç”¨ï¼Œåˆ™å…¶é¦–å­—æ¯åº”è¯¥è®¾ç½®ä¸ºå°å†™ï¼Œå°å†™å­—æ¯å¼€å¤´çš„å‡½æ•°ã€å˜é‡ã€å¸¸é‡ä¸ºå¯è§æ€§ä¸ºprivateï¼Œè€Œé¦–å­—æ¯å¤§å†™çš„è¯ï¼Œå¯è§æ€§ä¸ºpublicï¼Œåœ¨å…¶ä»–åŒ…ä¸­è¢«è°ƒç”¨ï¼š
```go
package user

// ç¬¬ä¸€ä¸ªå­—æ¯å°å†™ï¼Œé»˜è®¤ä¸ºå†…éƒ¨ä½¿ç”¨çš„æ–¹æ³•
//privateï¼Œeatä»…åœ¨useræ¨¡å—ä¸­å¯ä»¥ä½¿ç”¨
func eat(){
    //....
}

// ç¬¬ä¸€ä¸ªå­—æ¯æ˜¯å¤§å†™çš„é»˜è®¤ä¸ºå¤–éƒ¨å¯ä»¥è®¿é—®çš„æ–¹æ³•
//publicï¼ŒSayå¯ä»¥ç»™å¤–éƒ¨ä½¿ç”¨useræ¨¡å—çš„åœ°æ–¹ä½¿ç”¨
func Say(){
    //....
}
```




## å†…éƒ¨åŒ…
æˆ‘ä»¬å¼€å‘çš„åº“å¯èƒ½ä¼šåˆ†äº«(æ¯”å¦‚é€šè¿‡Githubæˆ–è€…Gitlab)ç»™å…¶ä»–å¼€å‘è€…ä½¿ç”¨ï¼Œå½“æˆ‘ä»¬æ”¹åŠ¨åˆ°å…¶ä»–å¼€å‘è€…ä¾èµ–çš„å‡½æ•°æˆ–å˜é‡æ—¶ï¼Œå°±ä¼šå¯¹ä»–ä»¬é€ æˆå½±å“ï¼Œç ´ååˆ°ä»–ä»¬çš„ä»£ç ï¼Œå› æ­¤åœ¨å¼€å‘æ—¶ï¼Œè¦å¯¹å¤–æš´éœ²é€šç”¨çš„ï¼Œä¸ç»å¸¸æ”¹åŠ¨çš„ä»£ç ï¼Œå¯¹äºä¼šå˜åŠ¨çš„é€»è¾‘ï¼Œå¯ä»¥æ”¾åœ¨internalç›®å½•ä¸­ï¼ŒGoè¯­è¨€ä¸å…è®¸å¯¼å…¥internalåŒ…ã€‚
æ¯”å¦‚ä¸‹é¢çš„ç›®å½•ä¸­ï¼ŒinternalåŒ…ä¸­æ‰€æœ‰çš„ä»£ç ï¼Œåªèƒ½åœ¨æœ¬é¡¹ç›®ä¸­ä½¿ç”¨ï¼Œå…¶ä»–å¼€å‘è€…æ— æ³•å¯¼å…¥ï¼š
```go
â”œâ”€â”€ cmd
â”‚    â””â”€â”€ main.go
â”œâ”€â”€ go.mod
â”œâ”€â”€ go.sum
â”œâ”€â”€ internal
â”‚    â””â”€â”€ util
â”‚         â””â”€â”€ util.go
â”œâ”€â”€ time
â”‚    â””â”€â”€ time.go
â””â”€â”€ user
      â”œâ”€â”€ list.go
      â””â”€â”€ user.go
```

# å°ç»“
æ˜¯Goè¯­è¨€ä»£ç çš„ç»„ç»‡å•ä½ï¼Œé€šè¿‡åŒ…ï¼Œæˆ‘ä»¬å¯ä»¥ç®¡ç†æˆ‘ä»¬çš„ä»£ç ï¼Œå°¤å…¶æ˜¯å½“å¼€å‘å¤§å‹é¡¹ç›®æ—¶ï¼Œå¯ä»¥é€šè¿‡åŒ…è¿›è¡Œæ¨¡å—åˆ’åˆ†ï¼Œå¦å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å°è£…è‡ªå·±çš„åŒ…ä»¥ä¾›å…¶ä»–å¼€å‘è€…ä½¿ç”¨ï¼Œæˆ–è€…åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­å¯¼å…¥å…¶ä»–å¼€å‘è€…çš„åŒ…ã€‚

æœ€åï¼Œæ€»ç»“ä¸€ä¸‹åœ¨è¿™ç¯‡æ–‡ç« ä¸­çš„è¦ç‚¹ï¼š
    GoåŒ…ç®¡ç†çš„å†å²
    åŒ…çš„å£°æ˜ï¼Œå¯¹go.modå’Œgo.sumæ–‡ä»¶æœ‰æ¸…æ¥šçš„è®¤è¯†ã€‚
    åŒ…çš„å¯¼å…¥ï¼ŒåŒ…æ‹¬å¯¼å…¥è·¯å¾„ï¼Œå¯¼å…¥æ–¹å¼ï¼Œå¯è§æ€§ä»¥åŠå†…éƒ¨åŒ…ã€‚


# å…¶ä»–å­¦ä¹ 
https://medium.com/rungo/everything-you-need-to-know-about-packages-in-go-b8bac62b74cc
https://learnku.com/go/t/27649

# go getå’Œgo installçš„åŒºåˆ« ğŸ¯ æ¨èä½¿ç”¨æ—¶æœº
ğŸ” ç®€å•å¯¹æ¯”
å‘½ä»¤	ä½œç”¨	ç‰¹ç‚¹
go get	ç”¨æ¥è·å–è¿œç¨‹åŒ…å¹¶å°†å…¶åŠ å…¥ go.modï¼ˆä¾èµ–ï¼‰	Go 1.17+ ä»¥åä¸æ¨èç”¨æ¥å®‰è£…å¯æ‰§è¡Œç¨‹åº
go install	ç”¨æ¥ç¼–è¯‘å¹¶å®‰è£…å¯æ‰§è¡Œç¨‹åºåˆ° $GOBIN æˆ– $GOPATH/bin	æ¨èç”¨äºå®‰è£… CLI å·¥å…·ï¼Œä¸

åœºæ™¯	æ¨èå‘½ä»¤
å®‰è£…ç¬¬ä¸‰æ–¹ CLI å·¥å…·	âœ… go install
æ·»åŠ ä¾èµ–åˆ°å½“å‰é¡¹ç›®	âœ… go get
è°ƒæ•´æŸä¸ªä¾èµ–çš„ç‰ˆæœ¬	âœ… go get
å®‰è£…æŸä¸ªåŒ…ä½†ä¸å½±å“é¡¹ç›®ä¾èµ–	âœ… go install