


è¯¦ç»†æ­¥éª¤æŸ¥çœ‹[beegoå®˜æ–¹å¿«é€Ÿå¼€å§‹æ­¥éª¤](https://github.com/beego/beego)
### å¿«é€Ÿå¼€å§‹ç¬¬ä¸€ä¸ª Beego-web é¡¹ç›®
1. å®‰è£… beego æ¡†æ¶ï¼š`go get github.com/beego/beego/v2@latest`
2. å®‰è£… bee å·¥å…·ï¼š`go install github.com/beego/bee/v2@latest`ï¼Œä¹‹ååœ¨ `GOPATH/bin` ç›®å½•ä¸‹ä¼šç”Ÿæˆä¸€ä¸ª `bee.exe` çš„beegoå·¥å…·
3. å°† bee.exe å¤åˆ¶åˆ°æœ¬ç›®å½•ä¸‹ï¼Œcmd è¿›å…¥æœ¬ç›®å½•ä¸‹ï¼Œæ‰§è¡Œ `bee new hello`ï¼Œå…¶ä¸­ â€œhelloâ€ å°±æ˜¯å¿«é€Ÿå…¥é—¨çš„ä¸€ä¸ªé¡¹ç›®åç§°ï¼Œæ‰§è¡Œç»“æœå¦‚![img.png](img.png)æ‰€ç¤º
4. ç»è¿‡ç¬¬ä¸‰æ­¥å°±åœ¨æœ¬ç›®å½•ä¸‹ç”Ÿæˆäº†ä¸€ä¸ªï¼Œcmd è¿›å…¥ helloæ–‡ä»¶å¤¹ï¼Œä¸‹è½½åˆå§‹åŒ–çš„beegoé¡¹ç›®æ‰€ä¾èµ–çš„æ‰€æœ‰åŒ…ï¼š`go mod tidy`
5. æ‰§è¡Œ main.go å¯åŠ¨é¡¹ç›®ï¼Œå¯åŠ¨åæ•ˆæœå¦‚å›¾![img_1.png](img_1.png)
5. ä¹Ÿå¯ä»¥ä½¿ç”¨ bee å‘½ä»¤å¯åŠ¨ï¼Œcmd åœ¨ hello æ–‡ä»¶å¤¹ä¸Šé¢æ‰§è¡Œ `bee run`ï¼ˆGOROOT/biné¡»åœ¨ç³»ç»Ÿpathä¸­ï¼Œæˆ–æŠŠbee.exeå¤åˆ¶åˆ°æœ¬ç›®å½•é‡Œé¢ï¼‰ï¼Œå¯åŠ¨åæ•ˆæœå¦‚å›¾![img_2.png](img_2.png)
6. è®¿é—® `http://localhost:8080/`ï¼Œ å‡ºç°å¦‚ä¸‹æ•ˆæœ![img_3.png](img_3.png)
7. ç”Ÿæˆæ¥å£è·¯ç”±ï¼š`bee generate routers`
8. è®¿é—®æ¥å£ï¼šhttp://127.0.0.1:8080/v1/user/ï¼Œ å¦‚ä¸‹![img_5.png](img_5.png)

æ³¨æ„ï¼š
 - `bee new hello` åˆ›å»ºçš„æ˜¯ä¸€ä¸ªwebåº”ç”¨ï¼Œå¦‚æœåªåˆ›å»ºä¸€ä¸ª API åº”ç”¨ï¼ˆçº¯åç«¯ï¼‰ï¼Œåˆ™ä½¿ç”¨`bee api hello`åˆ›å»ºï¼Œå¦‚[hello_api](hello_api)ï¼Œè¯¦ç»†çœ‹[APIå‘½ä»¤](https://beegodoc.com/zh/developing/bee/#api-%E5%91%BD%E4%BB%A4)
 - `bee` å‘½ä»¤é€šè¿‡ [fsnotify](https://github.com/howeyc/fsnotify) ç›‘æ§æ–‡ä»¶ç³»ç»Ÿï¼Œå®ç°äº†çƒ­åŠ è½½åŠŸèƒ½ï¼Œæ‰€ä»¥ä½¿ç”¨beegoæ¡†æ¶å°±ä¸è¦ç”¨ `go run`å‘½ä»¤äº†
 - 

### ä¹‹åå¿«é€Ÿåˆ›å»ºä¸€ä¸ªé¡¹ç›®çš„ä¸‰ä¸ªå‘½ä»¤
1. åˆ›å»ºé¡¹ç›®ï¼š`bee api project_name`
2. æ›´æ–°åŒ…ï¼š`go mod tidy`ï¼ˆéœ€è¿›å…¥project_nameç›®å½•ï¼‰
3. ç”Ÿæˆæ¥å£è·¯ç”±ï¼š`bee generate routers`
4. è¿è¡Œé¡¹ç›®ï¼š`bee run`ï¼ˆéœ€è¿›å…¥project_nameç›®å½•ï¼‰


### æ›´å¤š bee ç›¸å…³çš„å‘½ä»¤


è¯·çœ‹[bee-å·¥å…·å‘½ä»¤è¯¦è§£](https://beegodoc.com/zh/developing/bee/#bee-%E5%B7%A5%E5%85%B7%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3)



#### bee generate å‘½ä»¤

https://beegodoc.com/zh/developing/bee/#generate-%E5%91%BD%E4%BB%A4

![ç¤ºä¾‹å›¾](img_4.png)
å¥½çš„ï¼Œæ¥è¯¦ç»†è®²è®² `bee generate` å‘½ä»¤ï¼ğŸ

---

é¦–å…ˆï¼Œ`bee` æ˜¯ Go è¯­è¨€ä¸­ Beego æ¡†æ¶æä¾›çš„ä¸€ä¸ªå¼€å‘è¾…åŠ©å·¥å…·ï¼Œ`bee generate` æ˜¯å®ƒé‡Œé¢éå¸¸é‡è¦çš„ä¸€æ¡å‘½ä»¤ï¼Œç”¨æ¥**è‡ªåŠ¨ç”Ÿæˆä»£ç **ï¼Œå¸®åŠ©ä½ å¿«é€Ÿå¼€å‘ï¼Œæ¯”å¦‚è‡ªåŠ¨ç”Ÿæˆ modelã€controllerã€router ç­‰ã€‚

åŸºæœ¬æ ¼å¼æ˜¯ï¼š

```bash
bee generate [å¯¹è±¡ç±»å‹] [å‚æ•°]
```

æˆ–è€…ç®€å†™æˆï¼š

```bash
bee g [å¯¹è±¡ç±»å‹] [å‚æ•°]
```

---

### `bee generate` å¯ä»¥ç”Ÿæˆå“ªäº›ä¸œè¥¿ï¼Ÿ

å®˜æ–¹æ”¯æŒç”Ÿæˆçš„ä¸»è¦æœ‰ï¼š

| ç±»å‹         | è¯´æ˜                                                                                   |
|--------------|--------------------------------------------------------------------------------------|
| `appcode`    | æ ¹æ®æ•°æ®åº“è¡¨è‡ªåŠ¨ç”Ÿæˆ modelã€controllerã€routerï¼ˆå¸¸ç”¨äºå¿«é€Ÿå¼€å‘ CRUD åº”ç”¨ï¼‰               |
| `docs`       | æ ¹æ® Beego é¡¹ç›®ä»£ç è‡ªåŠ¨ç”Ÿæˆ Swagger æ–‡æ¡£                                               |
| `migration`  | ç”Ÿæˆæ•°æ®åº“è¿ç§»æ–‡ä»¶ï¼ˆå¯ä»¥ç®¡ç†æ•°æ®åº“ schema å˜æ›´ï¼‰                                         |
| `model`      | ç”ŸæˆæŸä¸ªè¡¨çš„ model å±‚ä»£ç ï¼ˆå¯ä»¥å•ç‹¬åªç”Ÿæˆæ¨¡å‹ï¼‰                                             |
| `controller` | å•ç‹¬ç”Ÿæˆ controller å±‚ä»£ç                                                              |
| `router`     | å•ç‹¬ç”Ÿæˆ router å±‚ä»£ç ï¼ˆé…åˆ controller ä½¿ç”¨ï¼‰                                             |

---



### beegoé¡¹ç›®åˆ›å»ºå®Œæˆä¹‹åä¸ºä»€ä¹ˆè¦æ‰§è¡Œä¸€ä¸‹"bee generate routers"æ‰èƒ½è®¿é—®æ¥å£ï¼Ÿï¼Ÿï¼Ÿ

å¥½é—®é¢˜ï¼æˆ‘æ¥ç»™ä½ è¯¦ç»†è§£é‡Šä¸€ä¸‹ï¼Œ**ä¸ºä»€ä¹ˆ Beego é¡¹ç›®åˆ›å»ºå¥½åï¼Œéœ€è¦æ‰§è¡Œ `bee generate routers` æ‰èƒ½æ­£å¸¸è®¿é—®æ¥å£ã€‚**

---

# ğŸ“š 1. Beego æ˜¯æ€ä¹ˆç®¡ç†è·¯ç”±çš„ï¼Ÿ

åœ¨ Beego é¡¹ç›®é‡Œï¼Œ**è·¯ç”±**ï¼ˆä¹Ÿå°±æ˜¯æ¥å£åœ°å€å’Œ Controller æ–¹æ³•çš„æ˜ å°„ï¼‰æœ‰ä¸¤ç§ä¸»è¦ç®¡ç†æ–¹å¼ï¼š

| æ–¹å¼          | è¯´æ˜ |
|--------------|-----|
| æ‰‹åŠ¨æ³¨å†Œè·¯ç”±   | è‡ªå·±å†™ä»£ç ä¸€è¡Œè¡Œ `web.Router("/xxx", &Controller{})` æ³¨å†Œ |
| è‡ªåŠ¨ç”Ÿæˆè·¯ç”±è¡¨ | é€šè¿‡ Controller ä¸Šçš„æ³¨è§£ï¼Œè‡ªåŠ¨æ‰«æå¹¶ç”Ÿæˆ `routers/router.go` æ–‡ä»¶ |

Beego é¼“åŠ±ä½¿ç”¨ **æ³¨è§£ + è‡ªåŠ¨ç”Ÿæˆ** çš„æ–¹å¼ï¼Œæ›´å¿«æ›´è§„èŒƒã€‚

---

# ğŸ“œ 2. é‚£ä¹ˆ `bee generate routers` åšäº†ä»€ä¹ˆï¼Ÿ

`bee generate routers` çš„ä½œç”¨æ˜¯ï¼š

1. **æ‰«æé¡¹ç›®é‡Œæ‰€æœ‰ Controller**
2. **è¯»å– Controller æ–¹æ³•ä¸Šé¢çš„ `@router` æ³¨è§£**
3. **æ ¹æ®æ³¨è§£å†…å®¹è‡ªåŠ¨ç”Ÿæˆè·¯ç”±æ³¨å†Œä»£ç **
4. æŠŠç”Ÿæˆçš„ä»£ç å†™å…¥åˆ° `routers/router.go` é‡Œ

æ¯”å¦‚ä½ å†™äº†è¿™ä¸ª Controller æ–¹æ³•ï¼š

```go
// @router /anonymous_user/info [get]
func (u *UserController) GetUserInfo() {
    ...
}
```

æ‰§è¡Œ `bee generate routers` åï¼Œä¼šåœ¨ `routers/router.go` è‡ªåŠ¨ç”Ÿæˆï¼š

```go
func init() {
    web.Router("/anonymous_user/info", &controllers.UserController{}, "get:GetUserInfo")
}
```

è¿™æ ·ç¨‹åºå¯åŠ¨çš„æ—¶å€™ï¼ŒBeego æ‰çŸ¥é“  
**è¯·æ±‚ `/user/info` åº”è¯¥èµ° `UserController` çš„ `GetUserInfo` æ–¹æ³•**ï¼

ğŸ‘‰ **å¦‚æœä½ ä¸æ‰§è¡Œ `bee generate routers`ï¼ŒBeego æ ¹æœ¬ä¸çŸ¥é“ä½ çš„æ¥å£åœ¨å“ªå„¿ï¼Œæ‰€ä»¥è®¿é—®çš„æ—¶å€™å°±404äº†ã€‚**

---

# ğŸš€ 3. æ€»ç»“ä¸€å¥è¯

> `bee generate routers` æ˜¯ä¸ºäº†  
> **æ ¹æ® Controller æ³¨è§£è‡ªåŠ¨ç”Ÿæˆè·¯ç”±æ³¨å†Œä»£ç ï¼Œ  
> è®© Beego çŸ¥é“æ¯ä¸ªæ¥å£åœ°å€å¯¹åº”å“ªä¸ª Controller æ–¹æ³•ï¼**

---

# ğŸ“Œ è¡¥å……å°çŸ¥è¯†

| é¡¹ç›®                              | è¯´æ˜ |
|----------------------------------|-----|
| æ¯æ¬¡æ–°å¢äº† Controller æˆ– @routeræ³¨è§£ | éƒ½åº”è¯¥é‡æ–°æ‰§è¡Œä¸€æ¬¡ `bee generate routers` |
| `routers/router.go` é‡Œéƒ½æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ | æ‰‹åŠ¨æ”¹çš„è¯ï¼Œä¸‹æ¬¡ `bee generate routers` ä¼šè¢«è¦†ç›–æ‰ |
| å¦‚æœä¸æƒ³ç”¨è‡ªåŠ¨ç”Ÿæˆ               | ä¹Ÿå¯ä»¥è‡ªå·±åœ¨ `router.go` æ‰‹åŠ¨å†™è·¯ç”±ï¼ˆä¼ ç»Ÿæ–¹å¼ï¼‰ |

---

è¦ä¸è¦æˆ‘é¡ºä¾¿å†ç”»ä¸€å¼ ã€bee generate routerså†…éƒ¨æµç¨‹å›¾ã€‘ï¼Ÿ  
ä¿è¯ä½ ä¸€çœ¼ç§’æ‡‚ "æ‰«æController â†’ ç”Ÿæˆä»£ç  â†’ æ³¨å†Œè·¯ç”±" çš„æµç¨‹ï¼è¦çš„è¯å‘Šè¯‰æˆ‘ï½ğŸŒŸ


### å„ä¸ªå­å‘½ä»¤å…·ä½“ç”¨æ³•ç»†è®²

---

#### 1. `bee generate appcode`
ğŸ‘‰ æ ¹æ®æ•°æ®åº“è¡¨ï¼Œç”Ÿæˆ modelã€controller å’Œ routerï¼Œé€‚åˆå¿«é€Ÿæ­å»ºå®Œæ•´çš„åç«¯æ¥å£ã€‚

å¸¸ç”¨æ ¼å¼ï¼š

```bash
bee generate appcode -tables="user,order" -conn="root:password@tcp(127.0.0.1:3306)/testdb" -driver=mysql -level=3
```

å‚æ•°è§£é‡Šï¼š
- `-tables`ï¼šæŒ‡å®šæ•°æ®åº“çš„è¡¨åï¼Œå¤šä¸ªç”¨é€—å·éš”å¼€
- `-conn`ï¼šæ•°æ®åº“è¿æ¥ä¸²
- `-driver`ï¼šæ•°æ®åº“é©±åŠ¨ï¼Œæ¯”å¦‚ mysqlã€postgres
- `-level`ï¼š
    - `1`ï¼šåªç”Ÿæˆ model
    - `2`ï¼šç”Ÿæˆ model + controller
    - `3`ï¼šç”Ÿæˆ model + controller + routerï¼ˆé»˜è®¤æ˜¯3ï¼‰
- `-output`ï¼šæŒ‡å®šç”Ÿæˆçš„ä»£ç æ”¾åˆ°å“ªä¸ªç›®å½•ï¼ˆé»˜è®¤æ˜¯å½“å‰ç›®å½•ï¼‰

âœ… ä¸¾ä¾‹ï¼š
```bash
bee generate appcode -tables="users" -conn="root:123456@tcp(localhost:3306)/mydb" -driver=mysql
```
è¿™ä¼šå¸®ä½ è‡ªåŠ¨ç”Ÿæˆ `models/users.go`ã€`controllers/users.go` å’Œ `routers/users.go`ï¼

---

#### 2. `bee generate docs`
ğŸ‘‰ è‡ªåŠ¨æ ¹æ®ä½ çš„è·¯ç”±ã€controller æ³¨é‡Šï¼Œç”Ÿæˆ Swagger æ–‡æ¡£ã€‚

å‘½ä»¤ï¼š

```bash
bee generate docs
```

è¦æ±‚ä½ çš„ controller å†™äº†ç±»ä¼¼è¿™æ ·çš„æ³¨é‡Šï¼š

```go
// @router /anonymous_user [get]
func (c *UserController) Get() {}
```

æ‰§è¡Œå®Œåï¼Œä¼šç”Ÿæˆä¸€ä¸ª `swagger` ç›®å½•ï¼Œé‡Œé¢æ˜¯å¯ä»¥ç›´æ¥ç»™ Swagger UI ç”¨çš„ JSON æ–‡ä»¶ã€‚

---

#### 3. `bee generate migration`
ğŸ‘‰ ç”Ÿæˆæ•°æ®åº“è¿ç§»æ–‡ä»¶ï¼ˆç±»ä¼¼äº Djangoã€Rails é‚£ç§ migrationï¼‰ã€‚

å‘½ä»¤ï¼š

```bash
bee generate migration create_user_table
```

å®ƒä¼šåœ¨ `database/migrations` ä¸‹ç”Ÿæˆä¸€ä¸ªä»¥æ—¶é—´æˆ³å¼€å¤´çš„ go æ–‡ä»¶ï¼Œæ¯”å¦‚ï¼š

```
20250427121345_create_user_table.go
```

é‡Œé¢æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼š
- `Up()`ï¼šå†™åˆ›å»ºè¡¨çš„ SQL
- `Down()`ï¼šå†™å›æ»šï¼ˆåˆ é™¤è¡¨ï¼‰çš„ SQL

---

#### 4. `bee generate model`
ğŸ‘‰ å•ç‹¬ç”Ÿæˆ modelï¼ˆå¦‚æœä½ ä¸æƒ³ç”Ÿæˆ controller/routerï¼‰ã€‚

å‘½ä»¤ï¼š

```bash
bee generate model -tables="user,order" -conn="root:password@tcp(127.0.0.1:3306)/testdb" -driver=mysql
```

æ¯” `appcode` æ›´è½»é‡ï¼Œåªå…³å¿ƒæ•°æ®ç»“æ„ï¼Œæ¯”å¦‚ç”Ÿæˆ `models/user.go`ã€‚

---

#### 5. `bee generate controller`
ğŸ‘‰ å•ç‹¬ç”Ÿæˆ controllerã€‚

å‘½ä»¤ï¼š

```bash
bee generate controller User
```

ä¼šç”Ÿæˆï¼š

```go
package controllers

type UserController struct {
    beego.Controller
}
```

å¹¶å¸¦ä¸€ä¸ªç©ºçš„åŸºæœ¬æ–¹æ³•ã€‚

---

#### 6. `bee generate router`
ğŸ‘‰ å•ç‹¬ç”Ÿæˆè·¯ç”±ç»‘å®šã€‚

å‘½ä»¤ï¼š

```bash
bee generate router User
```

ä¼šç”Ÿæˆåœ¨ `routers/router.go` é‡Œé¢çš„ä¸€æ®µï¼š

```go
beego.Router("/anonymous_user", &controllers.UserController{})
```

---

### æ€»ç»“ä¸€ä¸‹
å¦‚æœå¿«é€Ÿå¼€å‘ APIï¼Œæœ€å¸¸ç”¨çš„æ˜¯ï¼š

- `bee generate appcode` ï¼ˆç›´æ¥æŠŠ modelã€controllerã€router éƒ½ç”Ÿæˆå¥½ï¼‰
- ç„¶åè‡ªå·±å†ç¨å¾®è¡¥å……ä¸šåŠ¡é€»è¾‘ã€‚

å¦‚æœæ˜¯åšé¡¹ç›®ç®¡ç†ï¼Œæ¯”å¦‚æ•°æ®åº“å‡çº§è„šæœ¬ï¼Œå°±ç”¨ï¼š

- `bee generate migration`

å¦‚æœè¦ç»´æŠ¤ Swagger æ–‡æ¡£ï¼Œå°±ç”¨ï¼š

- `bee generate docs`

---

### âš¡å°æç¤º
- ä½¿ç”¨ `bee` å‰ä¸€å®šè¦ç¡®ä¿ `$GOPATH/bin` åœ¨ä½ çš„ `PATH` ä¸­ï¼Œä¸ç„¶å‘½ä»¤æ‰¾ä¸åˆ°ã€‚
- `bee` ä¾èµ–çš„ Beego é¡¹ç›®ç»“æ„å¿…é¡»è§„èŒƒï¼Œæ¯”å¦‚æœ‰ `main.go`ã€æœ‰ `controllers/`ã€`models/`ã€`routers/` è¿™äº›ç›®å½•ã€‚
- å¦‚æœæ˜¯æ–°ç‰ˆ Beegoï¼ˆbeego v2+ï¼‰ï¼Œè¦æ³¨æ„å’Œ bee ç‰ˆæœ¬é…å¥—ï¼Œæ¨èä½¿ç”¨ [`bee v2`](https://github.com/beego/bee)ã€‚

---

è¦ä¸è¦æˆ‘é¡ºä¾¿ç»™ä½ ä¸¾ä¸ªå®é™…é¡¹ç›®ä¸­ç”¨ `bee generate appcode` ä¸€æ¬¡ç”Ÿæˆ 10 ä¸ªè¡¨çš„ä¾‹å­ï¼ŸğŸŒŸ  
è¦çš„è¯å‘Šè¯‰æˆ‘ï½
